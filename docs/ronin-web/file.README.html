<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  File: README
  
    &mdash; Ronin Web Documentation
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" />

  <link rel="stylesheet" href="css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "README";
  relpath = '';
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="file_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="_index.html">Index</a> &raquo; 
    <span class="title">File: README</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><div id='filecontents'><h1 id="ronin-web">ronin-web</h1>

<p><a href="https://github.com/ronin-rb/ronin-web/actions/workflows/ruby.yml"><img src="https://github.com/ronin-rb/ronin-web/actions/workflows/ruby.yml/badge.svg" alt="CI"></a>
<a href="https://codeclimate.com/github/ronin-rb/ronin-web"><img src="https://codeclimate.com/github/ronin-rb/ronin-web.svg" alt="Code Climate"></a>
<a href="https://badge.fury.io/rb/ronin-web"><img src="https://badge.fury.io/rb/ronin-web.svg" alt="Gem Version"></a></p>

<ul>
<li><a href="https://github.com/ronin-rb/ronin-web">Source</a></li>
<li><a href="https://github.com/ronin-rb/ronin-web/issues">Issues</a></li>
<li><a href="https://ronin-rb.dev/docs/ronin-web/frames">Documentation</a></li>
<li><a href="https://discord.gg/6WAb3PsVX9">Discord</a> |
<a href="https://twitter.com/ronin_rb">Twitter</a> |
<a href="https://infosec.exchange/@ronin_rb">Mastodon</a></li>
</ul>

<h2 id="description">Description</h2>

<p>ronin-web is a Ruby library that provides common web security commands and
additional libraries.</p>

<p>ronin-web is part of the <a href="https://ronin-rb.dev">ronin-rb</a> project, a <a href="https://www.ruby-lang.org">Ruby</a> toolkit for security
research and development.</p>

<h2 id="features">Features</h2>

<ul>
<li>HTML/XML parsing/building (using <a href="https://nokogiri.org/">Nokogiri</a>).

<ul>
<li>Also provides additional extensions to <a href="https://nokogiri.org/">Nokogiri</a> using
<a href="https://github.com/postmodern/nokogiri-ext#readme">nokogiri-ext</a>.</li>
</ul></li>
<li>Supports diffing HTML/XML documents using <a href="https://github.com/postmodern/nokogiri-diff#readme">nokogiri-diff</a>.</li>
<li>Automated Web Browsing using <a href="https://github.com/sparklemotion/mechanize#readme">Mechanize</a>.</li>
<li>Supports random <code>User-Agent</code> generation using <a href="https://github.com/ronin-rb/ronin-web-user_agents#readme">ronin-web-user_agents</a>.</li>
<li>Provides an easy to use <a href="https://sinatrarb.com/">Sinatra</a> based web server using
<a href="https://github.com/ronin-rb/ronin-web-server#readme">ronin-web-server</a>.</li>
<li>Provides an easy to use web spider using <a href="https://github.com/ronin-rb/ronin-web-spider#readme">ronin-web-spider</a>.</li>
<li>Provides a CLI for common web related tasks.</li>
<li>Has 98% documentation coverage.</li>
<li>Has 89% test coverage.</li>
</ul>

<h2 id="synopsis">Synopsis</h2>

<pre class="code ruby"><code class="ruby">Usage: ronin-web [options] [COMMAND [ARGS...]]

Options:
    -h, --help                       Print help information

Arguments:
    [COMMAND]                        The command name to run
    [ARGS ...]                       Additional arguments for the command

Commands:
    diff
    help
    html
    irb
    new
    reverse-proxy
    server
    spider
</code></pre>

<p>Open the <code>ronin-web</code> Ruby REPL:</p>

<pre class="code shell"><code class="shell">$ ronin-web irb
</code></pre>

<p>Diff two HTML files:</p>

<pre class="code shell"><code class="shell">$ ronin-web diff index1.html index2.html
+

+ &lt;div&gt;hax&lt;/div&gt;
</code></pre>

<p>Diff two URLs:</p>

<pre class="code shell"><code class="shell">$ ronin-web diff http://example.com/index.html http://example.com/index2.html
</code></pre>

<p>Perform an XPath query on an HTML file:</p>

<pre class="code shell"><code class="shell">$ ronin-web html --xpath //meta index.html
&lt;meta charset=&quot;utf-8&quot;&gt;
&lt;meta http-equiv=&quot;Content-type&quot; content=&quot;text/html; charset=utf-8&quot;&gt;
&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;
</code></pre>

<p>Perform an XPath query on a URL:</p>

<pre class="code shell"><code class="shell">$ ronin-web html --xpath //meta https://example.com/
&lt;meta charset=&quot;utf-8&quot;&gt;
&lt;meta http-equiv=&quot;Content-type&quot; content=&quot;text/html; charset=utf-8&quot;&gt;
&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;
</code></pre>

<p>Dump all links from a web page:</p>

<pre class="code shell"><code class="shell">$ ronin-web html --links https://www.google.com/
https://www.google.com/imghp?hl=en&amp;tab=wi
https://maps.google.com/maps?hl=en&amp;tab=wl
https://play.google.com/?hl=en&amp;tab=w8
https://www.youtube.com/?tab=w1
https://news.google.com/?tab=wn
https://mail.google.com/mail/?tab=wm
https://drive.google.com/?tab=wo
https://www.google.com/intl/en/about/products?tab=wh
http://www.google.com/history/optout?hl=en
/preferences?hl=en
https://accounts.google.com/ServiceLogin?hl=en&amp;passive=true&amp;continue=https://www.google.com/&amp;ec=GAZAAQ
/advanced_search?hl=en&amp;authuser=0
https://www.google.com/url?q=https://blog.google/products/search/google-search-new-fact-checking-misinformation/&amp;source=hpp&amp;id=19034203&amp;ct=3&amp;usg=AOvVaw3UxG35a-5UX1Rl8M_VwPbd&amp;sa=X&amp;ved=0ahUKEwjM4Iq--JD-AhVtGTQIHXMBBaYQ8IcBCAU
/intl/en/ads/
/services/
/intl/en/about.html
/intl/en/policies/privacy/
/intl/en/policies/terms/
</code></pre>

<p>Spiders a host and print all visited URLs:</p>

<pre class="code shell"><code class="shell">$ ronin-web spider --host www.ruby-lang.org
http://www.ruby-lang.org/
http://www.ruby-lang.org/en/
http://www.ruby-lang.org/en/downloads/
http://www.ruby-lang.org/en/documentation/
http://www.ruby-lang.org/en/libraries/
http://www.ruby-lang.org/en/community/
https://www.ruby-lang.org/en/news/
https://www.ruby-lang.org/en/security/
https://www.ruby-lang.org/en/about/
...
</code></pre>

<p>Spiders the domain and sub-domains and print every visited URL:</p>

<pre class="code shell"><code class="shell">$ ronin-web spider --domain ruby-lang.org
http://ruby-lang.org/
https://www.ruby-lang.org/
https://www.ruby-lang.org/en/
https://www.ruby-lang.org/en/downloads/
https://www.ruby-lang.org/en/documentation/
https://www.ruby-lang.org/en/libraries/
https://www.ruby-lang.org/en/community/
https://www.ruby-lang.org/en/news/
https://www.ruby-lang.org/en/security/
https://www.ruby-lang.org/en/about/
...
</code></pre>

<p>Spiders a specific web-site and print every visited URL:</p>

<pre class="code shell"><code class="shell">$ ronin-web spider --site https://www.ruby-lang.org/
https://www.ruby-lang.org/
https://www.ruby-lang.org/en/
https://www.ruby-lang.org/en/downloads/
https://www.ruby-lang.org/en/documentation/
https://www.ruby-lang.org/en/libraries/
https://www.ruby-lang.org/en/community/
https://www.ruby-lang.org/en/news/
https://www.ruby-lang.org/en/security/
https://www.ruby-lang.org/en/about/
...
</code></pre>

<p>Spider a host and print the response statuses:</p>

<pre class="code shell"><code class="shell">200 http://www.ruby-lang.org/
200 http://www.ruby-lang.org/en/
200 http://www.ruby-lang.org/en/downloads/
200 http://www.ruby-lang.org/en/documentation/
200 http://www.ruby-lang.org/en/libraries/
200 http://www.ruby-lang.org/en/community/
200 http://www.ruby-lang.org/en/news/
200 http://www.ruby-lang.org/en/security/
200 http://www.ruby-lang.org/en/about/
...
</code></pre>

<p>Spider a host and print the response status and headers:</p>

<pre class="code shell"><code class="shell">ronin-web spider --print-headers --host www.ruby-lang.org
200 http://www.ruby-lang.org/
    Connection: close
    Content-Length: 887
    Server: Cowboy
    Strict-Transport-Security: max-age=31536000
    Content-Type: text/html
    Etag: W/&quot;496ac7fab29a6094e490da28025c5857&quot;
    X-Frame-Options: SAMEORIGIN
    Via: 1.1 vegur, 1.1 varnish
    Accept-Ranges: bytes
    Date: Tue, 04 Apr 2023 19:42:51 GMT
    Age: 155
    X-Served-By: cache-pdx12330-PDX
    X-Cache: HIT
    X-Cache-Hits: 1
    X-Timer: S1680637372.808609,VS0,VE1
    Vary: Accept-Encoding
...
</code></pre>

<p>Start a debug web server on <a href="http://localhost:8000/:">http://localhost:8000/:</a></p>

<pre class="code shell"><code class="shell">$ ronin-web server
[2023-04-04 12:26:59] INFO  WEBrick 1.7.0
[2023-04-04 12:26:59] INFO  ruby 3.1.3 (2022-11-24) [x86_64-linux]
== Sinatra (v3.0.4) has taken the stage on 8000 for development with backup from WEBrick
[2023-04-04 12:26:59] INFO  WEBrick::HTTPServer#start: pid=8966 port=8000
</code></pre>

<p>Start a debug web server on a different address and port:</p>

<pre class="code shell"><code class="shell">$ ronin-web server --host 0.0.0.0 --port 1337
</code></pre>

<p>Host the files in a directory on <a href="http://localhost:8000/:">http://localhost:8000/:</a></p>

<pre class="code shell"><code class="shell">$ ronin-web server --root .
</code></pre>

<p>Mount a specific file at a specific HTTP path:</p>

<pre class="code shell"><code class="shell">$ ronin-web server --dir /dir/index.html:./index.html
</code></pre>

<p>Mount a specific directory at a specific HTTP path:</p>

<pre class="code shell"><code class="shell">$ ronin-web server --dir /dir:.
</code></pre>

<p>Add a redirect to the web server:</p>

<pre class="code shell"><code class="shell">$ ronin-web server --redirect /redirect:https://example.com/
</code></pre>

<p>Start a HTTP reverse proxy that rewrites HTTP responses on <a href="http://localhost:8080:">http://localhost:8080:</a></p>

<pre class="code shell"><code class="shell">$ ronin-web reverse-proxy --rewrite-response Example:Hax
</code></pre>

<p>Test the reverse proxy:</p>

<pre class="code shell"><code class="shell">$ curl -H &quot;Host: example.com&quot; http://localhost:8080/
</code></pre>

<p>Generate a new Ruby script for parsing HTML/XML:</p>

<pre class="code shell"><code class="shell">$ ronin-web new nokogiri parse.rb
    erb nokogiri.rb.erb parse.rb
    chmod   parse.rb
</code></pre>

<p>Generate a new web spider script:</p>

<pre class="code shell"><code class="shell">$ ronin-web new spider --host=www.example.com spider.rb
    erb spider.rb.erb   spider.rb
    chmod   spider.rb
</code></pre>

<p>Generate a new web server script:</p>

<pre class="code shell"><code class="shell">$ ronin-web new server server.rb
    erb server.rb.erb   server.rb
    chmod   server.rb
</code></pre>

<p>Generate a new web app:</p>

<pre class="code shell"><code class="shell">$ ronin-web new webapp app
    mkdir   app
    mkdir   app/lib
    mkdir   app/views
    mkdir   app/public
    erb .ruby-version.erb   app/.ruby-version
    cp  Gemfile app
    erb app.rb.erb  app/app.rb
    cp  config.ru   app
</code></pre>

<h2 id="examples">Examples</h2>

<p>Get a web-page:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Web</span><span class='period'>.</span><span class='id identifier rubyid_get'>get</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>http://www.rubyinside.com/</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
</code></pre>

<p>Get only the body of the web-page:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Web</span><span class='period'>.</span><span class='id identifier rubyid_get_body'>get_body</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>http://www.rubyinside.com/</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
</code></pre>

<p>Get a <a href="https://github.com/sparklemotion/mechanize#readme">Mechanize agent</a>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_agent'>agent</span> <span class='op'>=</span> <span class='const'>Web</span><span class='period'>.</span><span class='id identifier rubyid_agent'>agent</span>
</code></pre>

<p>Parse HTML:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>HTML</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='id identifier rubyid_open'>open</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>some_file.html</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='rparen'>)</span>
<span class='comment'># =&gt; &lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/REC-html40/loose.dtd&quot;&gt;
</span><span class='comment'># &lt;html&gt;
</span><span class='comment'>#   &lt;head&gt;
</span><span class='comment'>#     &lt;script type=&quot;text/javascript&quot; src=&quot;redirect.js&quot;&gt;&lt;/script&gt;
</span><span class='comment'>#   &lt;/head&gt;
</span><span class='comment'># &lt;/html&gt;
</span></code></pre>

<p>Build a HTML document:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_doc'>doc</span> <span class='op'>=</span> <span class='const'>HTML</span><span class='period'>.</span><span class='id identifier rubyid_build'>build</span> <span class='kw'>do</span>
  <span class='id identifier rubyid_html'>html</span> <span class='lbrace'>{</span>
    <span class='id identifier rubyid_head'>head</span> <span class='lbrace'>{</span>
      <span class='id identifier rubyid_script'>script</span><span class='lparen'>(</span><span class='symbol'>:type</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>text/javascript</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='symbol'>:src</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>redirect.js</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
    <span class='rbrace'>}</span>
  <span class='rbrace'>}</span>
<span class='kw'>end</span>

<span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_doc'>doc</span><span class='period'>.</span><span class='id identifier rubyid_to_html'>to_html</span>
<span class='comment'># &lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/REC-html40/loose.dtd&quot;&gt;
</span><span class='comment'># &lt;html&gt;&lt;head&gt;&lt;script src=&quot;redirect.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;&lt;/head&gt;&lt;/html&gt;
</span></code></pre>

<p>Parse XML:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>XML</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='id identifier rubyid_some_text'>some_text</span><span class='rparen'>)</span>
<span class='comment'># =&gt; &lt;?xml version=&quot;1.0&quot;?&gt;
</span><span class='comment'># &lt;users&gt;
</span><span class='comment'>#   &lt;user&gt;
</span><span class='comment'>#     &lt;name&gt;admin&lt;/name&gt;
</span><span class='comment'>#     &lt;password&gt;0mni&lt;/password&gt;
</span><span class='comment'>#   &lt;/user&gt;
</span><span class='comment'># &lt;/users&gt;
</span></code></pre>

<p>Build a XML document:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_doc'>doc</span> <span class='op'>=</span> <span class='const'>XML</span><span class='period'>.</span><span class='id identifier rubyid_build'>build</span> <span class='kw'>do</span>
  <span class='id identifier rubyid_playlist'>playlist</span> <span class='lbrace'>{</span>
    <span class='id identifier rubyid_mp3'>mp3</span> <span class='lbrace'>{</span>
      <span class='id identifier rubyid_file'>file</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_text'>text</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>02 THE WAIT.mp3</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span> <span class='rbrace'>}</span>
      <span class='id identifier rubyid_artist'>artist</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_text'>text</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Evil Nine</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span> <span class='rbrace'>}</span>
      <span class='id identifier rubyid_track'>track</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_text'>text</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>The Wait feat David Autokratz</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span> <span class='rbrace'>}</span>
      <span class='id identifier rubyid_duration'>duration</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_text'>text</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>1000000000</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span> <span class='rbrace'>}</span>
    <span class='rbrace'>}</span>
  <span class='rbrace'>}</span>
<span class='kw'>end</span>

<span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_doc'>doc</span><span class='period'>.</span><span class='id identifier rubyid_to_xml'>to_xml</span>
<span class='comment'># &lt;?xml version=&quot;1.0&quot;?&gt;
</span><span class='comment'># &lt;playlist&gt;
</span><span class='comment'>#   &lt;mp3&gt;
</span><span class='comment'>#     &lt;file&gt;02 THE WAIT.mp3&lt;/file&gt;
</span><span class='comment'>#     &lt;artist&gt;Evil Nine&lt;/artist&gt;
</span><span class='comment'>#     &lt;track&gt;The Wait feat David Autokratz&lt;/track&gt;
</span><span class='comment'>#     &lt;duration&gt;1000000000&lt;/duration&gt;
</span><span class='comment'>#   &lt;/mp3&gt;
</span><span class='comment'># &lt;/playlist&gt;
</span></code></pre>

<h2 id="requirements">Requirements</h2>

<ul>
<li><a href="https://www.ruby-lang.org">Ruby</a> &gt;= 3.0.0</li>
<li><a href="https://nokogiri.org/">nokogiri</a> ~&gt; 1.4</li>
<li><a href="https://github.com/postmodern/nokogiri-ext#readme">nokogiri-ext</a> ~&gt; 0.1</li>
<li><a href="https://github.com/postmodern/nokogiri-diff#readme">nokogiri-diff</a> ~&gt; 0.2</li>
<li><a href="https://github.com/sparklemotion/mechanize#readme">mechanize</a> ~&gt; 2.0</li>
<li>[robots] ~&gt; 0.10</li>
<li><a href="https://github.com/postmodern/open_namespace#readme">open_namespace</a> ~&gt; 0.4</li>
<li><a href="https://github.com/ronin-rb/ronin-support#readme">ronin-support</a> ~&gt; 1.0</li>
<li><a href="https://github.com/ronin-rb/ronin-web-server#readme">ronin-web-server</a> ~&gt; 0.1</li>
<li><a href="https://github.com/ronin-rb/ronin-web-spider#readme">ronin-web-spider</a> ~&gt; 0.1</li>
<li><a href="https://github.com/ronin-rb/ronin-web-user_agents#readme">ronin-web-user_agents</a> ~&gt; 0.1</li>
<li><a href="https://github.com/ronin-rb/ronin-core#readme">ronin-core</a> ~&gt; 0.1</li>
</ul>

<h2 id="install">Install</h2>

<pre class="code shell"><code class="shell">$ gem install ronin-web
</code></pre>

<h2 id="development">Development</h2>

<ol>
<li><a href="https://github.com/ronin-rb/ronin-web/fork">Fork It!</a></li>
<li>Clone It!</li>
<li><code>cd ronin-web</code></li>
<li><code>bundle install</code></li>
<li><code>git checkout -b my_feature</code></li>
<li>Code It!</li>
<li><code>bundle exec rake spec</code></li>
<li><code>git push origin my_feature</code></li>
</ol>

<h2 id="license">License</h2>

<p>ronin-web - A collection of useful web helper methods and commands.</p>

<p>Copyright (c) 2006-2023 Hal Brodigan (postmodern.mod3 at gmail.com)</p>

<p>ronin-web is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.</p>

<p>ronin-web is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.</p>

<p>You should have received a copy of the GNU General Public License
along with ronin-web.  If not, see <a href="https://www.gnu.org/licenses/">https://www.gnu.org/licenses/</a>.</p>
</div></div>

      <div id="footer">
  Generated on Thu Jun 22 21:48:27 2023 by
  <a href="https://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.28 (ruby-3.1.4).
</div>

    </div>
  </body>
</html>